<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Homework Buddy{% endblock %}</title>

    <!-- Global Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
<div class="app-shell">

    <!-- SIDEBAR -->
    <aside class="sidebar">
        <div class="sidebar-logo">
            <div class="logo-icon">HB</div>
            <div class="logo-text">
                <div class="logo-title">Homework Buddy</div>
                <div class="logo-sub">Learn like it’s a game</div>
            </div>
        </div>

        <nav class="sidebar-nav">
            <a href="{{ url_for('dashboard') }}" 
               class="nav-item {% if active_page == 'student' %}active{% endif %}">
                <span class="nav-dot"></span>
                <span>Student Dashboard</span>
            </a>

            <a href="{{ url_for('parent_dashboard') }}" 
               class="nav-item {% if active_page == 'parent' %}active{% endif %}">
                <span class="nav-dot"></span>
                <span>Parent View</span>
            </a>

            <a href="{{ url_for('choose_character') }}" 
               class="nav-item {% if active_page == 'characters' %}active{% endif %}">
                <span class="nav-dot"></span>
                <span>Choose Character</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <div class="sidebar-tagline">Powered by AI + Imagination</div>
        </div>
    </aside>

    <!-- MAIN CONTENT AREA -->
    <main class="main-area">

        <!-- TOP BAR -->
        <header class="topbar">

            <!-- LEFT SIDE -->
            <div class="topbar-left">
                <h1 class="page-title">
                    {% block page_title %}Dashboard{% endblock %}
                </h1>
                <p class="page-subtitle">
                    {% block page_subtitle %}
                        Welcome back! Let’s tackle your next mission.
                    {% endblock %}
                </p>
            </div>

            <!-- RIGHT SIDE: Character Display -->
            <div class="topbar-right">

                {% if selected_character is defined and selected_character %}
                    <div class="character-pill">
                        <div class="character-avatar">
                            <span class="character-initial">
                                {{ selected_character[0] | upper }}
                            </span>
                        </div>

                        <div class="character-info">
                            <div class="character-name">
                                {{ selected_character.replace('_', ' ').title() }}
                            </div>
                            <div class="character-label">Active Guide</div>
                        </div>
                    </div>

                {% else %}
                    <a href="{{ url_for('choose_character') }}" class="btn-ghost">
                        Choose your guide
                    </a>
                {% endif %}

            </div>
        </header>

        <!-- MAIN PAGE BODY -->
        <section class="page-content">
            {% block content %}{% endblock %}
        </section>

    </main>
</div>
</body>
</html>
