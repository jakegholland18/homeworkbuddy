{% extends "layout.html" %}
{% block content %}

<h1 class="page-title fade-in">Choose Your Study Buddy</h1>

<div class="character-grid fade-in">

    {% for id, char in characters.items() %}
    <div class="character-card" onclick="selectCharacter('{{ id }}')">
        
        <img src="/static/{{ id }}.png" 
             class="character-universal character-float">

        <div class="character-name">
            {{ char.name }}
        </div>
    </div>
    {% endfor %}

</div>

<script>
function selectCharacter(id) {
    // Send POST request manually using fetch
    fetch("/select-character", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: "character=" + id
    })
    .then(() => {
        window.location.href = "/dashboard"; 
    });
}
</script>

{% endblock %}






