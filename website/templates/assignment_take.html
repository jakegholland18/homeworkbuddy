<!DOCTYPE html>
<html>
<head>
    <title>{{ assignment.title }} â€“ Assignment</title>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body class="fade-in">

<div class="page-title">{{ assignment.title }}</div>

<div class="content-box">

    <!-- Assignment Info -->
    <div class="assignment-meta">
        <p><strong>Subject:</strong> {{ assignment.subject|title }}</p>
        <p><strong>Topic:</strong> {{ assignment.topic }}</p>
        {% if assignment.instructions %}
        <p><strong>Instructions:</strong> {{ assignment.instructions }}</p>
        {% endif %}
        {% if assignment.due_date %}
        <p><strong>Due:</strong> {{ assignment.due_date.strftime("%B %d, %Y") }}</p>
        {% endif %}
    </div>

    <!-- Progress Bar -->
    <div class="progress-bar">
        <div class="progress-fill"
            style="width: {{ progress_percent|round(1) }}%;"></div>
    </div>

    <p class="progress-label">
        Question {{ index + 1 }} of {{ total }} ({{ progress_percent|round(1) }}%)
    </p>

    <!-- Question Box -->
    <div class="question-box">

        <h2>Question {{ index + 1 }}</h2>
        <p>{{ step.prompt }}</p>

        <form method="POST">

            <!-- Multiple Choice -->
            {% if step.type == "multiple_choice" %}
                {% for choice in step.choices %}
                    <div class="mc-option">
                        <label>
                            <input type="radio" name="student_answer"
                                   value="{{ choice[0] | lower }}">
                            {{ choice }}
                        </label>
                    </div>
                {% endfor %}

            <!-- Free Response -->
            {% else %}
                <textarea name="student_answer"
                          placeholder="Type your answer..."
                          required></textarea>
            {% endif %}

            <!-- Buttons -->
            <div class="btn-row">

                <!-- Hint button -->
                <button class="btn-gray" type="submit" name="hint">Hint</button>

                <!-- Submit button -->
                <button class="btn-blue" type="submit">Submit Answer</button>

            </div>

        </form>

        <!-- Optional Hint Display -->
        {% if show_hint %}
        <div class="hint-box">
            <strong>Hint:</strong> {{ step.hint }}
        </div>
        {% endif %}

    </div>

</div>

</body>
</html>

